/*! For license information please see client.431abc.js.LICENSE.txt */
!function(){"use strict";var t,e={8867:function(t,e,r){var n=r(5466),o=r(3897),i=r(103),a=r(3619);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var h={};function d(){}function p(){}function y(){}var m={};u(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==e&&r.call(g,o)&&(m=g);var w=y.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,i,a,u){var l=f(t[o],t,i);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==c(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(h).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(l.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=y,u(w,"constructor",y),u(y,"constructor",p),p.displayName=u(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},b(E.prototype),u(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(w),u(w,a,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,c,"next",t)}function c(t){d(i,n,o,a,c,"throw",t)}a(void 0)}))}}var y=function(t){var e=document.querySelector(".js-pathway-context-data");return e?JSON.parse(e.getAttribute(t)):null},m=function(){var t=p(l().mark((function t(e){var r,n,o,a,c=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(c.length>1&&void 0!==c[1])||c[1],t.next=3,(0,i.hj)("post","/api/lesson/complete/".concat(e),{is_completed:r?1:0});case 3:return n=t.sent,o=s(n,1),a=o[0],t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){return y("data-user")||{}},g=function(){return document.querySelector(".js-pathway-context-data")?document.querySelector(".js-pathway-context-data").getAttribute("data-language"):""},w=function(){var t=p(l().mark((function t(e,r,n){var o,a,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.hj)("get","/api/comments/wp/".concat(e,"/").concat(r,"/").concat(n));case 2:return o=t.sent,a=s(o,1),c=a[0],t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),b=function(){var t=p(l().mark((function t(e,r){var n,o,a,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Promise((function(t,n){(0,i.hj)("post","/api/comments/wp/".concat(r),e,{},!0,function(){var e=p(l().mark((function e(r,n){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.clone().json();case 2:o=e.sent,t(o);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())})),t.next=3,Promise.all([n]);case 3:return o=t.sent,a=s(o,1),c=a[0],t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),E=function(){var t=p(l().mark((function t(e){var r,n,o,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.hj)("get",e);case 2:return r=t.sent,n=s(r,1),o=n[0],a=document.implementation.createHTMLDocument(""),t.next=8,o.text();case 8:return a.documentElement.innerHTML=t.sent,document.querySelector("title").innerHTML=a.querySelector("title").innerHTML,t.abrupt("return",[a,function(){return x(a)}]);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(t){return t&&t.replace("".concat(window.location.protocol,"//").concat(window.location.host),"")},x=function(t){for(var e=u(t.querySelectorAll("script, style, link")),r=u(document.querySelectorAll("script, style, link")),n=[],o={SCRIPT:"src",LINK:"href"},i=0;i<e.length;i++){for(var a=e[i],c=!1,l=0;l<r.length;l++){var s=r[l];if(S(s.src)===S(a.src)&&S(s.href)===S(a.href)&&s.innerHTML===a.innerHTML){c=!0;break}}c||function(){for(var t=a.parentNode.tagName,e=a.tagName,r=document.createElement(e),i=0;i<a.attributes.length;i++){var c=a.attributes[i];c.name!==o[e]&&(r[c.name]=c.value)}"HEAD"===t?document.head.appendChild(r):document.body.appendChild(r),a[o[e]]&&"canonical"!==a.rel?(n.push(new Promise((function(t,e){r.addEventListener("load",(function(){return t()})),r.addEventListener("readystatechange",(function(){return t()})),r.addEventListener("error",(function(t){return e(t)}))}))),r[o[e]]=a[o[e]]):r.innerHTML=a.innerHTML}()}return Promise.all(n)},L=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v();switch(n.loggedState){case"public":(0,a.I)("mark-lesson-complete");break;case"loggedIn":var o,i;if(m(t.lessonId,!t.isCompleted),e(t.index,{isCompleted:!t.isCompleted}),r)t.isCompleted?null===(o=document.querySelector(".js-pathway-context-complete-lesson"))||void 0===o||o.classList.remove("checked"):null===(i=document.querySelector(".js-pathway-context-complete-lesson"))||void 0===i||i.classList.add("checked");break;case"loggedOut":window.IllShowSignInForm()}},j=function(t,e,r){"Lesson"===t.entityType?(r(null),e()):function(t,e,r){var n=v();switch(n.loggedState){case"public":(0,a.I)("assignments");break;case"loggedIn":var o=(0,a.i)(r,n.hasPremiumAccess,n.hasPremiumPlusAccess);o?(e(o),t()):(e(null),t());break;case"loggedOut":window.IllShowSignInForm()}}(e,r,t.isHandGraded)},O=r(6116),k=r(4044),_=r(1123),A={sidebar:"Sidebar__sidebar_c25933",sidebar_content:"Sidebar__sidebar_content_dac528",entering:"Sidebar__entering_c3fd3a",entered:"Sidebar__entered_fbab4a",exiting:"Sidebar__exiting_a24893",exited:"Sidebar__exited_ba5db5"},I=r(8266),C=r(6449),P=function(t){var e=t.completedCount,r=t.currentEntityIndex,o=t.entities,i=t.isDisabledNavigation,a=t.isOpened,c=t.title,u=t.onHideSidebarClick,l=t.onLessonComplete,s=t.onPathEntityClick,f=t.onShowSidebarClick,h=(0,I.Z)(C.AV.md).isBreakpointed;(0,n.useEffect)((function(){try{if(a){var t=document.querySelector(".js-pathway-context-bar").getBoundingClientRect().top;t&&window.scrollTo({top:t}),document.querySelector("body").classList.add("r101-pathway-context__fixed"),window.Ill.mtHide()}else{var e;document.querySelector("body").classList.remove("r101-pathway-context__fixed"),null===(e=window.Ill)||void 0===e||e.mtShow()}}catch(t){}}),[a]);var d=v(),p=function(t){h&&f(),s(t)};return(0,O.createPortal)(n.createElement(k.ZP,{in:a,mountOnEnter:!0,timeout:300,unmountOnExit:!0},(function(t){return n.createElement("div",{className:"".concat(A.sidebar," ").concat(A[t])},n.createElement("div",{className:A.sidebar_content},n.createElement(_.Z,{activeIndex:r,completedCount:e,entries:o,isCompleteDisabled:"loggedIn"!==d.loggedState,isDisabledNavigation:i,sidebarTitle:c,totalCount:o.length,onHideSidebarClick:u,onLessonComplete:l,onPathEntityClick:p})))})),document.querySelector(".js-pathway-context-sidebar"))},T=r(7414),N=r(5524),q=r(8646);function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function F(){F=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(L([])));m&&m!==e&&r.call(m,o)&&(p=m);var v=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==G(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(v,"constructor",d),c(d,"constructor",h),h.displayName=c(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function M(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function H(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){M(i,n,o,a,c,"next",t)}function c(t){M(i,n,o,a,c,"throw",t)}a(void 0)}))}}function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D=function(){var t=(0,n.useRef)(null),e=U((0,n.useState)(0),2),r=e[0],o=e[1],i=U((0,n.useState)(0),2),a=i[0],c=i[1],u=U((0,n.useState)([]),2),l=u[0],s=u[1],f=U((0,n.useState)(""),2),h=f[0],d=f[1],p=U((0,n.useState)("success"),2),y=p[0],m=p[1],E=U((0,n.useState)(!1),2),S=E[0],x=E[1],L=document.querySelector(".js-lesson-comments")?document.querySelector(".js-lesson-comments").getAttribute("data-is-wp-user-can-edit"):"",j=g(),k=document.querySelector(".js-lesson-comments")?document.querySelector(".js-lesson-comments").getAttribute("data-rss-comments-url"):"",_=v(),A=document.querySelector(".js-lesson-comments")?document.querySelector(".js-lesson-comments").getAttribute("data-wp-post-id"):"";(0,n.useEffect)((function(){I()}),[]);var I=function(){var t=H(F().mark((function t(){var e,n,i,u,f,h=arguments;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]&&h[0],n=e?0:a,i=e?[]:l,t.next=5,w(A,n,20);case 5:u=t.sent,(f=u.payload)&&((0===r||e)&&o(f.count),c(n+20),s(i.concat(f.comments)));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=H(F().mark((function t(e){var r,n,o,i;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,t.next=3,b({email:e.email,name:e.name,content:e.comment,password:e.password},A);case 3:return n=t.sent,o="An error has occurred. Please try again.",i="error",n&&("success"===n.status?(o="Comment was successfully added.",I(!0),i="success",r=!0):"error"===n.status?"Incorrect password"===n.message?o="Cannot post comment. You are posting as community staff but are using the incorrect password.":"Incorrect email"===n.message&&(o="An error has occurred. Please try again."):console.log(n.message)),d(o),m(i),x(!0),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,O.createPortal)(n.createElement(n.Fragment,null,n.createElement(N.Z,{ref:t,count:r,editLessonLink:document.querySelector(".js-lesson-comments")?document.querySelector(".js-lesson-comments").getAttribute("data-edit-lesson-link"):"",isAdmin:document.querySelector(".js-lesson-comments")?document.querySelector(".js-lesson-comments").getAttribute("data-is-admin"):"",isLogged101:_.isLogined,isLoggedWP:_.isLoggedWP,isShowLoadMoreComments:r>20&&l.length<r,isWPUserCanEdit:L,items:l,language:j,loginWP:_.loginWP,rssUrl:k,onLoadMoreComments:I,onSubmit:C}),h&&n.createElement(q.Z,{handleHide:x,isShow:S,text:h,type:y})),document.querySelector(".js-lesson-comments"))};function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Y=function(t){var e=t.html,r=t.onLessonComplete,o=$((0,n.useState)(!1),2),i=o[0],a=o[1];return(0,n.useEffect)((function(){a(!0)})),(0,n.useEffect)((function(){return function t(){var e=document.querySelectorAll(".js-pathway-context-complete-lesson");e.length?e.forEach((function(t){return t.addEventListener("click",r)})):setTimeout(t,300)}(),function(){document.querySelectorAll(".js-pathway-context-complete-lesson").forEach((function(t){return t.removeEventListener("click",r)}))}}),[r]),(0,n.useEffect)((function(){if(e){window.Ill.navigation.init(),window.Ill.dropdown.init(),window.Ill.lesson.init();try{window.addthis.layers.refresh()}catch(t){console.warn(t)}return function(){window.Ill.lesson.destroy()}}}),[e]),n.createElement("div",null,n.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),i?n.createElement(D,null):null)},V=r(2441),B=r(2191),J=function(t){var e=t.html,r=t.onAssignmentUpdate,o=t.onJumpToUrl;return(0,n.useEffect)((function(){var t=function(t){var e=t.target.getAttribute("href");o(e),t.preventDefault()};return function e(){document.querySelector(".js-pathway-context-dom-ready")?document.querySelectorAll(".js-pathway-context-jump").forEach((function(e){return e.addEventListener("click",t)})):setTimeout(e,300)}(),function(){document.querySelectorAll(".js-pathway-context-jump").forEach((function(e){return e.removeEventListener("click",t)}))}}),[o,e]),(0,n.useEffect)((function(){var t=function(t){t.detail&&t.detail.assignmentId&&r({isCompleted:!0,points:t.detail.isGraded?t.detail.points:0})},e=function(t){t.detail&&t.detail.assignmentId&&r({isCompleted:!1})};return document.addEventListener("ill.assignment.complete",t),document.addEventListener("ill.assignment.retake",e),function(){document.removeEventListener("ill.assignment.complete",t),document.removeEventListener("ill.assignment.retake",e)}}),[r]),(0,n.useEffect)((function(){e&&window.Ill.AssignmentInterface.init()}),[e]),n.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},W=r(2290),z=r(9016),K="LessonCaptcha__text_a74fc6",Q="LessonCaptcha__link_db97d9",X="LessonCaptcha__button_c1b897";function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(){et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(L([])));m&&m!==e&&r.call(m,o)&&(p=m);var v=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==tt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(v,"constructor",d),c(d,"constructor",h),h.displayName=c(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return nt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ot(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var it=!1,at=null,ct=null,ut=document.querySelector(".js-pathway-context-recaptcha");function lt(t){var e=function(){var t,e=(t=et().mark((function t(e){var r,n,o,a,c;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ct){t.next=4;break}return console.warn("Invisible Captcha: No CSRF token provided"),st("Something went wrong while checking your browser. Please refresh the page"),t.abrupt("return");case 4:return r=new CustomEvent("ill.invisible-captcha.got-response"),ut.dispatchEvent(r),t.prev=6,t.next=9,(0,i.hj)("post","/api/security/check-captcha",{"g-recaptcha-response":e,csrf:ct});case 9:n=t.sent,o=rt(n,1),(a=o[0])&&"success"===a.status?(it=!1,c=new CustomEvent("ill.invisible-captcha.success"),ut.dispatchEvent(c)):st(),ct=null,t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),console.warn("Invisible Captcha: check captcha request failed",t.t0),st("Something went wrong while checking your browser. Please refresh the page");case 20:case"end":return t.stop()}}),t,null,[[6,16]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ot(i,n,o,a,c,"next",t)}function c(t){ot(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),r=function(){it&&st()};window.onInvisibleCaptchaLoaded=function(){at&&window.grecaptcha.reset(at),at&&ut.querySelector("*")||(at=window.grecaptcha.render(ut,{sitekey:t,size:"invisible",callback:e,"error-callback":r,isolated:!0})),window.grecaptcha.execute(at)}}function st(t){it=!1;var e=new CustomEvent("ill.invisible-captcha.error",{detail:t});ut.dispatchEvent(e)}function ft(t,e){var r;e?(ct=e,window.onInvisibleCaptchaLoaded||lt(t),it||(it=!0,window.grecaptcha?window.onInvisibleCaptchaLoaded():((r=document.createElement("script")).src="https://www.google.com/recaptcha/api.js?onload=onInvisibleCaptchaLoaded&render=explicit",document.head.appendChild(r)))):console.warn("Invisible Captcha: no CSRF token!")}function ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pt=function(t){var e=t.csrf,r=t.email,o=t.ip,i=t.sitekey,a=t.onSuccess,c=ht((0,n.useState)(!1),2),u=c[0],l=c[1],s=ht((0,n.useState)(!1),2),f=s[0],h=s[1],d=ht((0,n.useState)(!1),2),p=d[0],y=d[1],m=(0,n.useCallback)((function(){y(!0)}),[]),v=(0,n.useCallback)((function(){y(!0),a()}),[a]),g=(0,n.useCallback)((function(){y(!0),l(!0)}),[]);return(0,n.useEffect)((function(){var t=document.querySelector(".js-pathway-context-recaptcha");t.addEventListener("ill.invisible-captcha.got-response",m),t.addEventListener("ill.invisible-captcha.success",v),t.addEventListener("ill.invisible-captcha.error",g),ft(i,e);var r=setTimeout((function(){p||h(!0)}),5e3);return function(){t.removeEventListener("ill.invisible-captcha.got-response",m),t.removeEventListener("ill.invisible-captcha.success",v),t.removeEventListener("ill.invisible-captcha.error",g),clearTimeout(r)}}),[]),u?n.createElement(V.Z,{title:"Oops! Something went wrong"},n.createElement("div",{className:K},"Please refresh the page and try again."),n.createElement("div",{className:K},"If you see this message multiple times, please ",n.createElement("a",{className:Q,href:"mailto:".concat(r)},"email us"),". Include your IP address in the email: ",o),n.createElement(z.Z,{label:"Refresh Page"})):f?n.createElement(V.Z,{title:"Please answer a quick question"},n.createElement("div",{className:K},"Complete the Captcha below to get back to learning."),n.createElement("button",{className:X,disabled:p,type:"button",onClick:function(){return ft(i,e)}},p?"Please wait...":"Show Captcha"),n.createElement("div",{className:K},"If you see this message multiple times, please ",n.createElement("a",{className:Q,href:"mailto:".concat(r)},"email us"),". Include your IP address in the email: ",o)):n.createElement(n.Fragment,null,n.createElement(V.Z,null))};function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function mt(){mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function d(){}var p={};c(p,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(L([])));m&&m!==e&&r.call(m,o)&&(p=m);var v=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==yt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(v,"constructor",d),c(d,"constructor",h),h.displayName=c(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function vt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return wt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bt=function(t){var e=t.entity,r=t.isVisible,o=t.setDisabledNavigation,i=t.onAssignmentUpdate,a=t.onCurrentEntityChange,c=t.onLessonComplete,u=t.onJumpToUrl,l=t.lockoutTopic,s=gt((0,n.useState)(!1),2),f=s[0],h=s[1],d=gt((0,n.useState)(!1),2),p=d[0],y=d[1],m=gt((0,n.useState)(null),2),v=m[0],w=m[1],b=gt((0,n.useState)(null),2),S=b[0],x=b[1],L=gt((0,n.useState)(e.url),2),j=L[0],O=L[1],k=(0,n.useRef)(!1),_=(0,I.Z)(C.AV.md).isBreakpointed;(0,n.useEffect)((function(){o({isLoading:p,isError:f,lessonCaptcha:S})}),[S,f,p]),(0,n.useEffect)((function(){var t=function(t){var e;void 0!==(null===(e=t.state)||void 0===e?void 0:e.entityIndex)&&(k.current=!0,a(t.state.entityIndex))};return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}}),[]);var A=function(){var t,r=(t=mt().mark((function t(){var r,n,o,i;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"Assignment"===e.entityType&&x(null),y(!0),h(!1),k.current?k.current=!1:window.history.pushState({entityIndex:e.index},"",e.url),t.next=7,E(e.url);case 7:if(r=t.sent,n=gt(r,2),o=n[0],i=n[1],!o.querySelector(".js-pathway-context-orig-content")){t.next=20;break}return t.next=14,i();case 14:x(null),w(o.querySelector(".js-pathway-context-orig-content").innerHTML),O(e.url),y(!1),t.next=22;break;case 20:x(o.querySelector(".js-pathway-context-captcha-data")),y(!1);case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(0),h(!0);case 27:case"end":return t.stop()}}),t,null,[[0,24]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vt(i,n,o,a,c,"next",t)}function c(t){vt(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,n.useEffect)((function(){r?A():window.history.replaceState({entityIndex:e.index},"",window.location.href)}),[e.url,r]),(0,n.useEffect)((function(){r&&window.scrollTo(0,0)}),[p]),(0,n.useEffect)((function(){if(!_){var t=document.querySelector(".js-pathway-context-orig-content").clientHeight,e=document.querySelector(".js-pathway-context-content").clientHeight,r=window.innerHeight-59,n=t>e?t:e;document.querySelector(".js-pathway-context-sidebar").style.maxHeight=n<r?"".concat(n,"px"):"none"}}),[e.url,p,_,l]),(0,n.useEffect)((function(){"Lesson"!==e.entityType||S?document.body.classList.add("r101-pathway-context--no-addthis"):document.body.classList.remove("r101-pathway-context--no-addthis")}),[e.entityType,S]),"Lesson"===e.entityType?S?n.createElement(pt,{csrf:S.dataset.csrf,email:S.dataset.email,ip:S.dataset.ip,sitekey:S.dataset.sitekey,onSuccess:A}):f?n.createElement(V.Z,{isError:f},"Something went wrong while loading the page"):p||j!==e.url?n.createElement(V.Z,null):n.createElement(Y,{html:v,onLessonComplete:c}):"Assignment"===e.entityType?l?n.createElement(n.Fragment,null,n.createElement(W.Z,{isNoCard:!0}),l&&n.createElement(B.Z,{isModal:!1,language:g(),topic:l})):f?n.createElement(W.Z,{isError:f},"Something went wrong while loading the page"):p||j!==e.url?n.createElement(W.Z,null):n.createElement(J,{html:v,onAssignmentUpdate:i,onJumpToUrl:u}):null},Et=r(2309),St=function(t){return(0,n.useEffect)((function(){if(t.isVisible||t.lockoutTopic&&"Assignment"===t.entity.entityType){var e=document.querySelector(".js-pathway-context-orig-content");e.innerHTML="",e.classList.add("r101-pathway-context__content--hidden"),document.querySelector(".js-pathway-context-content").classList.remove("r101-pathway-context__content--hidden")}}),[t.isVisible,t.lockoutTopic]),(0,O.createPortal)(n.createElement(Et.Z,{onError:function(e){return"Lesson"===t.entity.entityType?n.createElement(V.Z,{isError:!0},e):n.createElement(W.Z,{isError:!0},e)}},n.createElement(bt,t)),document.querySelector(".js-pathway-context-content"))};function xt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Lt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(r),!0).forEach((function(e){kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _t(t){return function(t){if(Array.isArray(t))return Ct(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||It(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,e)||It(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(t,e){if(t){if("string"==typeof t)return Ct(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(t,e):void 0}}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Pt=function(){var t=At((0,n.useState)(y("data-collection-entities")||[]),2),e=t[0],r=t[1],o=At((0,n.useState)(y("data-current-entity-index")),2),i=o[0],c=o[1],u=function(){var t,e=(0,I.Z)(C.AV.md).isBreakpointed,r=!e&&"1"===(null===(t=window.localStorage)||void 0===t?void 0:t.getItem("ill-pathway-context-sidebar-display")),o=xt((0,n.useState)(r||!1),2),i=o[0],a=o[1];return[i,function(t){var r;a(t),!e&&(null===(r=window.localStorage)||void 0===r||r.setItem("ill-pathway-context-sidebar-display",t?"1":"0"))}]}(),l=At(u,2),s=l[0],f=l[1],h=At((0,n.useState)(0),2),d=h[0],p=h[1],m=At((0,n.useState)(!1),2),g=m[0],w=m[1],b=At((0,n.useState)(document.querySelector(".js-pathway-context-data")?document.querySelector(".js-pathway-context-data").getAttribute("data-lockout-topic"):null),2),E=b[0],S=b[1],x=At((0,n.useState)({isLoading:!1,isError:!1,lessonCaptcha:null}),2),O=x[0],k=x[1];(0,n.useEffect)((function(){p(e.reduce((function(t,e){return t+(e.isCompleted?1:0)}),0))}),[e]);var _=y("data-collection-info")||{},A=function(t,e){r((function(r){var n=_t(r);return n[t]=Ot(Ot({},n[t]),e),n}))},N=n.createElement(St,{entity:e[i],isVisible:g,lockoutTopic:E,setDisabledNavigation:function(t){return k(t)},onAssignmentUpdate:function(t){return A(i,t)},onCurrentEntityChange:function(t){c(t),w(!0)},onJumpToUrl:function(t){var r=e.filter((function(e){return e.url===t}))[0];r?function(t){if("Lesson"===t.entityType)S(null);else{var e=v(),r=(0,a.i)(t.isHandGraded,e.hasPremiumAccess,e.hasPremiumPlusAccess);S(r||null)}c(t.index),w(!0)}(r):(console.warn("Unexpected URL. Redirecting",t),window.location.href=t)},onLessonComplete:function(){return L(e[i],A,!0)}}),q=n.createElement(T.Z,{barTitle:_.title,barUrl:_.url,completedCount:d,entityTitle:"Lesson"===e[i].entityType?"Lesson ".concat(e[i].lessonNumber):"Assessment",isDisabledNavigation:O.isLoading||O.isError||O.lessonCaptcha,isSidebarOpened:s,nextEntity:e[i+1],prevEntity:e[i-1],totalCount:e.length,onPathEntityClick:function(t){return j(e[i+t],(function(){c(i+t),w(!0)}),S)},onShowSidebarClick:function(){return f(!s)}}),G=n.createElement(P,{completedCount:d,currentEntityIndex:i,entities:e,isDisabledNavigation:O.isLoading||O.isError||O.lessonCaptcha,isOpened:s,title:_.title,onHideSidebarClick:function(){return f(!s)},onLessonComplete:function(t){return L(e[t],A,t===i)},onPathEntityClick:function(t){return j(e[t],(function(){c(t),w(!0)}),S)},onShowSidebarClick:function(){return f(!s)}});return n.createElement(n.Fragment,null,q,G,N)};"fetch"in window||(window.fetch=r(3375).he);var Tt=function(){var t=document.querySelector(".js-pathway-context-bar");(0,o.s)(t).render(n.createElement(Pt,null))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){Tt()})):Tt()}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={id:t,loaded:!1,exports:{}};return e[t](i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdO={},t=[],n.O=function(e,r,o,i){if(!r){var a=1/0;for(s=0;s<t.length;s++){r=t[s][0],o=t[s][1],i=t[s][2];for(var c=!0,u=0;u<r.length;u++)(!1&i||a>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[u])}))?r.splice(u--,1):(c=!1,i<a&&(a=i));if(c){t.splice(s--,1);var l=o();void 0!==l&&(e=l)}}return e}i=i||0;for(var s=t.length;s>0&&t[s-1][2]>i;s--)t[s]=t[s-1];t[s]=[r,o,i]},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t+"../"}(),function(){var t={47:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,i,a=r[0],c=r[1],u=r[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(u)var s=u(n)}for(e&&e(r);l<a.length;l++)i=a[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(s)},r=self.webpackChunkpathways=self.webpackChunkpathways||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),n.nc=void 0,n.O(void 0,[216],(function(){return n(2768)})),n.O(void 0,[216],(function(){return n(7464)}));var o=n.O(void 0,[216],(function(){return n(8867)}));o=n.O(o)}();